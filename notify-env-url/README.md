# notify-env-url

URL の部分一致、あるいは前方一致によってページに Info を表示するための Chrome 拡張機能

## 仕様

### 基本機能

1. ポップアップから URL パターン・メッセージ・画面全体につける帯の色を登録する
2. 登録された URL パターンにマッチするページを開くと、body タグに border(帯)が表示される
3. 画面左上にバナーが表示され、登録されたメッセージが表示される
4. バナーは 5 秒後に自動的に消える

### 設定画面(popup.html)

#### URL パターンの登録

- URL パターン、メッセージ、帯の色を設定
- マッチ方式: 「部分一致」「前方一致」の二者択一ボタンで選択
- 複数の URL パターンを登録可能

#### パターン管理機能

- 登録済みパターンの一覧表示
- 各パターンの編集機能(ポップアップで編集画面を表示)
- パターンの削除機能
- 優先順位のソート機能(登録順に優先順位付け)
- JSON 形式でのインポート/エクスポート機能

### 表示機能

#### Border(帯)

- 画面の上下左右 4 辺すべてに表示
- 帯の色は登録時に指定
- スタイルは CSS で固定(ユーザーカスタマイズ不可)

#### バナー

- 画面左上に表示
- 登録されたメッセージを表示
- 5 秒後に自動的に消える
- スタイルは CSS で固定(ユーザーカスタマイズ不可)

### マッチングロジック

- 複数のパターンがマッチした場合、登録順(優先順位順)の最初のものを適用
- 前方一致: URL がパターンで始まる場合にマッチ
- 部分一致: URL にパターンが含まれる場合にマッチ

## ファイル構成

```md
notify-env-url/
├── manifest.json          # 拡張機能の定義
├── popup.html             # 設定画面
├── popup.js               # 設定画面のロジック
├── popup.css              # 設定画面のスタイル
├── content.js             # ページに注入されるスクリプト
├── content.css            # バナーと帯のスタイル
├── icons/                 # アイコン
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # このファイル
```

## データ構造(JSON)

```json
{
  "patterns": [
    {
      "id": "unique-id",
      "urlPattern": "example.com",
      "matchType": "partial",  // "partial" or "prefix"
      "message": "開発環境",
      "borderColor": "#ff0000",
      "order": 0
    }
  ]
}
```

## インストール方法

1. Chrome 拡張機能の管理画面を開く(`chrome://extensions/`)
2. 「デベロッパーモード」を有効にする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このディレクトリを選択

## 使い方

1. 拡張機能アイコンをクリックして設定画面を開く
2. URL パターン、メッセージ、帯の色を入力
3. マッチ方式(部分一致/前方一致)を選択
4. 「追加」ボタンをクリックして登録
5. 登録したパターンにマッチするページを開くと、バナーと帯が表示される
